---
import Button from "./ui/Button.astro";
---

<Button
  id="theme-toggle"
  variant="ghost"
  size="icon"
  class="w-9 px-0"
  aria-label="Przełącz motyw"
>
  <span class="dark:hidden">🌙</span>
  <span class="hidden dark:inline">☀️</span>
</Button>

<script>
  const toggleTheme = () => {
    const isDark = document.documentElement.classList.contains('dark');
    document.documentElement.classList.toggle('dark', !isDark);
    localStorage.setItem('theme', !isDark ? 'dark' : 'light');
  };

  // Inicjalizacja motywu
  const theme = localStorage.getItem('theme') || 'light';
  document.documentElement.classList.toggle('dark', theme === 'dark');

  // Nasłuchiwanie na kliknięcia
  document.getElementById('theme-toggle')?.addEventListener('click', toggleTheme);
</script> 